[
  {
    "objectID": "sessions/04_advanced.html",
    "href": "sessions/04_advanced.html",
    "title": "Advanced",
    "section": "",
    "text": "install.packages('jmastats', repos = c('https://uribo.r-universe.dev', 'https://cloud.r-project.org'))\n\n\nlibrary(jmastats)\n\n\ndata(stations, package = \"jmastats\")\n\njmastatsパッケージは日本の気象庁が提供する気象データをRから利用可能にするパッケージです。このパッケージを用いて、四国4県を代表する気象観測所4地点（徳島, 高松, 松山, 高知)での2023年7月の気象データを取得する場面を考えます。\njmastatsパッケージでは、jma_collect()関数を使って目的の気象データの取得を行います。その際、データの種類（ここでは2023年7月の日ごとの観測値が知りたいので”daily”を指定します）、取得対象の年月日、取得対象の気象観測所が位置するコード（block_no）を指定します。\n「徳島」のblock_noは”47895”なので、次のようにすると2023年7月の日ごとの気象データが取得されます。\n\njma_collect(item = \"daily\", block_no = \"47895\", year = 2023, month = 7)\n\nでは、対象の気象観測所を増やしてデータ取得を行いましょう。 まずは4地点の気象観測所のblock_noを調べる必要があります。 この処理は次のコードで実行します。\n\ndf_targets_st &lt;- \n  # jmastatsパッケージに含まれる気象観測所のデータ\n  stations |&gt; \n  # 1. 観測所の名前が同じで四国以外に位置する観測所を除外するため、\n  #    都道府県コードによる絞り込みを行う\n  filter(pref_code %in% as.character(seq.int(36, 39))) |&gt; \n  # 2. 四国県内で目的の気象観測所の名称で絞り込む\n  filter(station_name %in% c(\"徳島\", \"高松\", \"松山\", \"高知\")) |&gt; \n  # 3. 同一の気象観測所が複数行に分かれて記録されていることがあるのでユニークにする\n  distinct(block_no, station_name, pref_code)\n\n\ndf_targets_st\n\n\n\n\n\nblock_no\nstation_name\npref_code\n\n\n\n\n47895\n徳島\n36\n\n\n47891\n高松\n37\n\n\n47887\n松山\n38\n\n\n47893\n高知\n39\n\n\n\n\n\n\n対象の気象観測所のblock_noがわかったので、jma_collect()関数を使ってデータを取得しましょう。 先ほど示したコードのblock_no引数を変更するだけです。\n\njma_collect(item = \"daily\", block_no = \"47895\", year = 2023, month = 7)\njma_collect(item = \"daily\", block_no = \"47891\", year = 2023, month = 7)\njma_collect(item = \"daily\", block_no = \"47887\", year = 2023, month = 7)\njma_collect(item = \"daily\", block_no = \"47893\", year = 2023, month = 7)\n\nちょっと待ってください！ あなたが書こうと思いついたコードはどんなものですか？ もし、上に示したようにjma_collect()関数の引数block_no部分だけを変えることを考えていたのであれば、purrrパッケージを使ったコードに置き換えることが可能です。purrrパッケージを使うことで、jma_collect()関数の指定は1回で済み、コードも簡略化できます。\n\ndf_targets_st |&gt; \n  pluck(\"block_no\") |&gt; \n  map(\n    \\(x) jma_collect(item = \"daily\", block_no = x, year = 2023, month = 7)\n  )\n\n同じ関数を繰り返し記載したコードでは、どの引数が同じで、どの引数が違うのか注意を払う必要が生じます（例えば2023年7月の値を参照しているなかで、ある箇所だけが2020年8月と書いてしまうことがあるかもしれません）。map()関数ではそのような繰り返しの処理の引数の違いを心配することがなく、繰り返しの中での変更点だけに注意することができます。\n次に、取得した気象データを一つのデータフレームに格納することを考えましょう。その際、各データがどの気象観測所のものなのかわかるよう、station_name変数に気象観測所の名称を記録しておきます。この処理を回りくどく書くと次のようになります。\n\nbind_rows(\n  jma_collect(item = \"daily\", block_no = \"47895\", year = 2023, month = 7) |&gt; \n    mutate(station_name = \"徳島\", .before = 1),\n  jma_collect(item = \"daily\", block_no = \"47891\", year = 2023, month = 7) |&gt; \n    mutate(station_name = \"高松\", .before = 1),\n  jma_collect(item = \"daily\", block_no = \"47887\", year = 2023, month = 7) |&gt; \n    mutate(station_name = \"松山\", .before = 1),\n  jma_collect(item = \"daily\", block_no = \"47893\", year = 2023, month = 7) |&gt; \n    mutate(station_name = \"高知\", .before = 1))\n\n列を追加するmutate()関数も対象の気象観測所の数に応じて追加することになり、書かなければいけないコード量が増えてしまいました。\nmap()関数の返り値はリスト形式ですが、リストの中身がデータフレームである場合、それらを一つのデータフレームにまとめる関数list_rbind()が用意されています。また、便利なのがset_names()関数とlist_rbind()関数のnames_to引数を組み合わせることで、各データフレームに任意の列名と値を追加可能です。\n\ndf_targets_st |&gt; \n  pluck(\"block_no\") |&gt; \n  set_names(df_targets_st |&gt; \n              pluck(\"station_name\")) |&gt; \n  map(\n    \\(x) jma_collect(item = \"daily\", block_no = x, year = 2023, month = 7)\n  ) |&gt; \n  list_rbind(names_to = \"station_name\")\n\n結果は回りくどく書いたコードと同じです。\nコードが複雑になればなるほど、purrrパッケージを使う利点が明確になります。"
  },
  {
    "objectID": "sessions/02_tidyr.html",
    "href": "sessions/02_tidyr.html",
    "title": "tidyr",
    "section": "",
    "text": "pivot_wider / pivot_longer"
  },
  {
    "objectID": "sessions/00_tidyverse.html",
    "href": "sessions/00_tidyverse.html",
    "title": "tidyverse概論",
    "section": "",
    "text": "ここでは、tidyverseはR上でデータサイエンスを円滑に行うためのパッケージ群、またそのパッケージのことを指します。次の図で示すように、tidyverseでは多種多様なデータ形式に対応したファイルの読み込みから、データ整形、可視化までを首尾一貫して行えるパッケージを提供されています。\n\n\n\ntidyverseに含まれるパッケージとその役割\n\n\nこれらのパッケージの開発者はPosit社のメンバーが中心となっており、統一的な設計思想に基づいて開発が行われています。そのため、各パッケージ間での利用方法の差異が少なく、連携が容易な点もtidyverseを使う一つの利点となります。\ntidyverseパッケージは次のコマンドを実行することでインストールされます。たくさんのパッケージをインストールするため、少し時間がかかるかもしれません。ですが、一度インストールしておくと、tidyverseに含まれるパッケージを個別にインストールする手間がなくなります。\n\ninstall.packages(\"tidyverse\")\n\nインストールは済みましたか？\nそれでは、tidyverseパッケージ（そしてそれに含まれる各種パッケージ）を 利用可能にしましょう。\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\nlibrary(tidyverse)を実行すると、コンソールにメッセージが表示されます。 メッセージは2つの内容を含んでいて、一つは利用可能となったパッケージについて、もう一つは関数名の衝突についての情報です。それぞれ詳しく見ていきましょう。\n最初の出力では、tidyverseパッケージ本体のバージョン、またtidyverseによって読み込まれたtidyverseのコアパッケージとそのバージョンを出力しています。この資料を作成している段階では、tidyverseコアパッケージには次のものが含まれます（括弧内はバージョン）。\n\ndplyr (1.1.2)\nreadr (2.1.4)\nforcats (1.0.0)\nstringr (1.5.0)\nggplot (3.4.3)\ntibble (3.2.1)\nlubridate (1.9.2)\ntidyr (1.3.0)\npurrr (1.0.2)\n\nConflictsと表示された2つめの出力は、tidyverseパッケージ群を読み込むことで発生した、関数名の競合状態を示すものです。関数名が競合するとはどういうことでしょう。\nRにはたくさんのパッケージがあり、各パッケージには関数が存在します。そのため、AとB、二つのパッケージで共通の名前をもつ関数（example()関数とします）が利用可能な状態となることがしばしばあります。この場合、Aパッケージのexample()関数を使いたいのに、Bパッケージのexample()関数が実行されてしまう可能性があります。\ntidyverse群の中で、dplyrパッケージのfilter()関数およびlag()関数は、Rの標準パッケージのstatsの同一名の関数と競合します。同じ名前の関数が複数のパッケージで利用できる状態では、後から読み込まれたパッケージが優先されます。そのため、この出力はdplyrパッケージのfilter()関数とlag()関数が利用されることを示すものとなっています。\n関数の衝突問題を解決するためのconflictedパッケージもtidyverseに含まれています。パッケージ間での関数の優先順位を変更するのに役立ちますので、興味のある方はウェブページをご覧ください。"
  },
  {
    "objectID": "license.html",
    "href": "license.html",
    "title": "ライセンス",
    "section": "",
    "text": "資料のうち、プログラム部分はMITライセンスに従い利用できます。プログラム部分以外（文章や画像）はクリエイティブ・コモンズ 表示 - 非営利 - 改変禁止 4.0 国際 (CC BY-NC-ND 4.0)のもと再利用が可能です。"
  },
  {
    "objectID": "license.html#mit-license",
    "href": "license.html#mit-license",
    "title": "ライセンス",
    "section": "MIT License",
    "text": "MIT License\nCopyright (c) 2023 Shinya Uryu\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\nTHE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "このページは2023年8月27日に開催される統計数理研究所 統計思考院オンラインワークショップ「探索的ビッグデータ解析と再現可能研究」での発表の一つ、「次の一歩を踏み出すためのtidyverse入門」（発表者： 瓜生真也 の資料置き場です。\nウェブサイトはQuartoを使って構築されています。 このページの内容を記載した.qmdファイルは GitHub上のリポジトリに保存されています。 内容についてご意見、改善の提案がある方はissuesに投稿をお願いします。"
  },
  {
    "objectID": "about.html#実行環境",
    "href": "about.html#実行環境",
    "title": "About",
    "section": "実行環境",
    "text": "実行環境\n\nR 4.3.1\nmacOS Ventura 13.4.1\n\n\nrenvを使った環境の復元\n\nrenv::install()"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "次の一歩を踏み出すためのtidyverse入門",
    "section": "",
    "text": "tidyverseはR言語でのデータ分析を行う際に便利なパッケージの集まりです。 統一された設計思想のもとに、ファイルの読み書き（readr）からデータ操作（dplyr、tidyr）、可視化（ggplot2）などのパッケージを提供しています。2016年の登場から度重なるアップデートを経て、現在の最新バージョンは2.0.0と成熟期を迎えている状態です。 国内外でtidyverseや関係するパッケージの解説は豊富に存在します。一方でRでの関数型プログラミングを補助するpurrrパッケージなど、他と比べて焦点を当てられる機会が少ないパッケージ・関数も見受けられます。この要因として、tidyverseの更新速度に追いつけず、新しい機能について十分に身につけることができないことがあると私は考えています。\nこの資料では、tidyverseのさらなる活用を目指す人を対象に、これらの使い方を解説するとともに、より効率的に作業を進めるためのノウハウを伝授することを目指しています。具体的には、tidyverseのコアパッケージでるdplyr、tidyr、purrrを中心に扱います。また、それ以外のtidyverseパッケージ群を組み合わせた、発展的な話題を紹介します。\ntidyverseとは何か？そこから知りたい人は概論をご覧ください。なお、紹介するパッケージの基本的な情報については既存の資料を参考にしてください。"
  },
  {
    "objectID": "index.html#tidyverseパッケージの読み込み",
    "href": "index.html#tidyverseパッケージの読み込み",
    "title": "次の一歩を踏み出すためのtidyverse入門",
    "section": "tidyverseパッケージの読み込み",
    "text": "tidyverseパッケージの読み込み\n資料全体を通してtidyverseパッケージを利用します。次のコマンドでtidyverseに含まれる各パッケージを利用可能な状態にしておきましょう。なおパッケージのインストールはinstall.packages(\"tidyverse\")で行われます1。\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\ntidyverseパッケージの最新版は、2023年8月27日現在、v2.0.0です。この資料でも最新版のv2.0.0を利用します。\n\n主な対象者\n\ndplyrやggplot2、tidyrについての基礎知識がある\ntidyverseに含まれるパッケージの関数の知識を更新したい … dplyr、tidyr、purrrの情報をアップデート\nデータフレームだけでなく、リストの操作も快適に行えるようになりたい… purrrについての理解を深める\n繰り返しの処理を書きがち、コードを簡潔に記述したい… purrrで効率的な処理！\n関数を書くことがない、あるいは少ない… rlangを使った関数が書けるように（目標）"
  },
  {
    "objectID": "index.html#目次",
    "href": "index.html#目次",
    "title": "次の一歩を踏み出すためのtidyverse入門",
    "section": "目次",
    "text": "目次\n\ntidyverse概論\ndplyr\ntidyr\npurrr\n発展"
  },
  {
    "objectID": "index.html#謝辞",
    "href": "index.html#謝辞",
    "title": "次の一歩を踏み出すためのtidyverse入門",
    "section": "謝辞",
    "text": "謝辞\nこのプロジェクトを含め、私のOSSに携わる活動を支援してくださっているGitHubスポンサーの方々に、感謝申し上げます。 活動を支援するためにGitHubスポンサーに加わっていただける方はこちらのリンクから登録をお願います。"
  },
  {
    "objectID": "index.html#footnotes",
    "href": "index.html#footnotes",
    "title": "次の一歩を踏み出すためのtidyverse入門",
    "section": "脚注",
    "text": "脚注\n\n\nGitHubリポジトリからこの資料をクローンまたはダウンロードした方はrenvパッケージを使ってパッケージを復元することが可能です。↩︎"
  },
  {
    "objectID": "sessions/01_dplyr.html",
    "href": "sessions/01_dplyr.html",
    "title": "dplyr",
    "section": "",
    "text": "library(palmerpenguins)\n南極に生育するペンギン個体の各部位の大きさについてのデータ\npenguins |&gt; \n  slice_head(n = 6)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nspecies\nisland\nbill_length_mm\nbill_depth_mm\nflipper_length_mm\nbody_mass_g\nsex\nyear\n\n\n\n\nAdelie\nTorgersen\n39.1\n18.7\n181\n3750\nmale\n2007\n\n\nAdelie\nTorgersen\n39.5\n17.4\n186\n3800\nfemale\n2007\n\n\nAdelie\nTorgersen\n40.3\n18.0\n195\n3250\nfemale\n2007\n\n\nAdelie\nTorgersen\nNA\nNA\nNA\nNA\nNA\n2007\n\n\nAdelie\nTorgersen\n36.7\n19.3\n193\n3450\nfemale\n2007\n\n\nAdelie\nTorgersen\n39.3\n20.6\n190\n3650\nmale\n2007\nペンギンデータに対して、以降の処理の説明を簡略化するために、いくつかの変数を減らします。\npenguins_small &lt;-\n  penguins |&gt; \n  select(species, island, starts_with(\"bill\"), sex)\n\nglimpse(penguins_small)\n\nRows: 344\nColumns: 5\n$ species        &lt;fct&gt; Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adelie,…\n$ island         &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgersen, …\n$ bill_length_mm &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, 42.…\n$ bill_depth_mm  &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, 20.…\n$ sex            &lt;fct&gt; male, female, female, NA, female, male, female, male, N…"
  },
  {
    "objectID": "sessions/01_dplyr.html#複数の列への処理",
    "href": "sessions/01_dplyr.html#複数の列への処理",
    "title": "dplyr",
    "section": "複数の列への処理",
    "text": "複数の列への処理\n\nacross\n共通の処理を複数の列へ適用する場合、次のように変数 = 関数(変数)の関係を個別に指定する書き方は効率が悪いです。across()関数を使うことで、このような複数列への一括処理が容易に行えるようになります。\n\npenguins_small |&gt; \n  # stringr::str_to_upper()はアルファベット文字列を大文字に変換します\n  transmute(species = str_to_upper(species),\n            sex = str_to_upper(sex))\n\n\n\n\n\nspecies\nsex\n\n\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nNA\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nNA\n\n\nADELIE\nNA\n\n\nADELIE\nNA\n\n\nADELIE\nNA\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nNA\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nNA\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nNA\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nNA\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nNA\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nNA\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\n\n\n\n\n\n新しい書き方古い書き方\n\n\nacross()は関数を適用する列を.cols引数で指定し、適用する関数名を.fnsに渡して実行します。 次のコードはstr_to_upper()関数を2つの変数に個別に実行していたものをacross()関数を使った書き方に直したものです。\n\npenguins_small |&gt; \n  transmute(across(.cols = c(\"species\", \"sex\"), \n                   .fns = str_to_upper))\n\n\n\n\n\nspecies\nsex\n\n\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nNA\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nNA\n\n\nADELIE\nNA\n\n\nADELIE\nNA\n\n\nADELIE\nNA\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nNA\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nNA\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nNA\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nNA\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nNA\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nNA\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\n\n\n\n\n結果は出力しませんが、以下のように書くこともできます。\n\npenguins_small |&gt; \n  transmute(across(c(species, sex), \n                   str_to_upper))\npenguins_small |&gt; \n  transmute(across(c(species, sex), \n                   ~ str_to_upper(.x)))\npenguins_small |&gt; \n  transmute(across(c(species, sex), \n                   function(x) str_to_upper(x)))\npenguins_small |&gt; \n  transmute(across(c(species, sex), \n                   \\(x) str_to_upper(x)))\n\n\n\n*_all(), *_at(), *_if() で終わる関数を使って複数列への処理が可能ですが、これらの関数は2023年8月現在 superseded扱いとなっています。\n\npenguins_small |&gt; \n  transmute_at(c(\"species\", \"sex\"), \n               .funs = str_to_upper)\n\n\n\n\n\nspecies\nsex\n\n\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nNA\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nNA\n\n\nADELIE\nNA\n\n\nADELIE\nNA\n\n\nADELIE\nNA\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nNA\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nADELIE\nFEMALE\n\n\nADELIE\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nNA\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nNA\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nNA\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nNA\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nNA\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nGENTOO\nFEMALE\n\n\nGENTOO\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nMALE\n\n\nCHINSTRAP\nFEMALE\n\n\n\n\n\n\nこの書き方に慣れている人は、関数を指定する引数名がacross()関数と異なる点に注意が必要です。 具体的にはacross(.fns = )で関数を指定することになります。\nまた、*_all(), *_at(), *_if()で利用可能だった、処理関数の第一引数以外の引数の指定方法はacross()関数では利用できません。 このあと説明する、across()関数での引数の指定方法を覚えましょう。\n\npenguins_small |&gt; \n  transmute_at(c(\"species\", \"sex\"), \n               .funs = str_sub, start = 1, end = 3)\n\n\n\n\n\nspecies\nsex\n\n\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nfem\n\n\nAde\nNA\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nNA\n\n\nAde\nNA\n\n\nAde\nNA\n\n\nAde\nNA\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nmal\n\n\nAde\nNA\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nAde\nfem\n\n\nAde\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nNA\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nNA\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nNA\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nNA\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nNA\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nGen\nfem\n\n\nGen\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nfem\n\n\nChi\nmal\n\n\nChi\nmal\n\n\nChi\nfem\n\n\n\n\n\n\n\n\n\nacross()関数では、処理を実行する関数（上記の例ではstr_to_upper()関数）の第一引数に.cols引数で指定した変数の値が渡されます。値以外や、第一引数以外に値を渡す必要がある場合などは、次のような書き方で渡される値を明示的に指定します。 )\n\nチルダ無名関数1無名関数2チルダとリストの組み合わせ\n\n\n\n# species及びsexの値は .x としてstr_sub()の第一引数に渡される\npenguins_small |&gt; \n  transmute(across(c(species, sex), ~ str_sub(.x, 1, 2)))\n\n\n\n\n\nspecies\nsex\n\n\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nNA\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nNA\n\n\nAd\nNA\n\n\nAd\nNA\n\n\nAd\nNA\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nNA\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nNA\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nNA\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nNA\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nNA\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nNA\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\n\n\n\n\n\n\n\n# species及びsexの値は 無名関数の引数xとしてstr_sub()の第一引数に渡される\npenguins_small |&gt; \n  transmute(across(c(species, sex), function(x) str_sub(x, 1, 2)))\n\n\n\n\n\nspecies\nsex\n\n\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nNA\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nNA\n\n\nAd\nNA\n\n\nAd\nNA\n\n\nAd\nNA\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nNA\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nNA\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nNA\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nNA\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nNA\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nNA\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\n\n\n\n\n\n\n\n# R 4.1.0から利用可能な無名関数の表記も使える\npenguins_small |&gt; \n  transmute(across(c(species, sex), \\(x) str_sub(x, 1, 2)))\n\n\n\n\n\nspecies\nsex\n\n\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nNA\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nNA\n\n\nAd\nNA\n\n\nAd\nNA\n\n\nAd\nNA\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nNA\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nNA\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nNA\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nNA\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nNA\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nNA\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\n\n\n\n\n\n\n\npenguins_small |&gt; \n  transmute(across(c(species, sex), list(~ str_sub(.x, 1, 2))))\n\n\n\n\n\nspecies_1\nsex_1\n\n\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nNA\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nNA\n\n\nAd\nNA\n\n\nAd\nNA\n\n\nAd\nNA\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nNA\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nfe\n\n\nAd\nma\n\n\nAd\nfe\n\n\nAd\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nNA\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nNA\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nNA\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nNA\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nNA\n\n\nGe\nfe\n\n\nGe\nma\n\n\nGe\nfe\n\n\nGe\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nfe\n\n\nCh\nma\n\n\nCh\nma\n\n\nCh\nfe\n\n\n\n\n\n\n\n\n\nacross()関数を使った複数列への処理では、通常、加工後の列名は元の列名と一致します。 例えば、ペンギンデータのspeciesごとに数値変数の平均値を求める以下の処理とその結果を見てみましょう。\n\npenguins_small |&gt; \n  group_by(species) |&gt; \n  summarise(across(where(is.numeric), \\(x) mean(x, na.rm = TRUE)))\n\n\n\n\n\nspecies\nbill_length_mm\nbill_depth_mm\n\n\n\n\nAdelie\n38.79139\n18.34636\n\n\nChinstrap\n48.83382\n18.42059\n\n\nGentoo\n47.50488\n14.98211\n\n\n\n\n\n\nこの挙動が問題となることがあります。それは操作対象の変数に複数の関数を適用する場合です。 次の例はペンギンデータのspeciesごとに、数値変数の平均値と標準偏差を求める処理ですが、計算された平均値が元の変数名に格納されるため、標準偏差の計算結果を正しく求めることができなくなっています。\n\npenguins_small |&gt; \n  group_by(species) |&gt; \n  summarise(across(where(is.numeric), \\(x) mean(x, na.rm = TRUE)),\n            across(where(is.numeric), \\(x) sd(x, na.rm = TRUE)))\n\n\n\n\n\nspecies\nbill_length_mm\nbill_depth_mm\n\n\n\n\nAdelie\nNA\nNA\n\n\nChinstrap\nNA\nNA\n\n\nGentoo\nNA\nNA\n\n\n\n\n\n\nこうした場合、across()関数の.names引数が役に立ちます。 以下の例では、平均値を求めるacross()関数と標準偏差を求めるacross()関数それぞれに.names引数を指定しています。注目してほしいのは\"{.col}_\"の部分です。ここにはテンプレートとして元の変数名が使われます。その他、任意の文字列を新たに用意される変数名として利用することができます。\n\npenguins_small |&gt; \n  group_by(species) |&gt; \n  summarise(across(where(is.numeric), \\(x) mean(x, na.rm = TRUE), .names = \"{.col}_mean\"),\n            across(where(is.numeric), \\(x) sd(x, na.rm = TRUE), .names = \"{.col}_sd\"))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nspecies\nbill_length_mm_mean\nbill_depth_mm_mean\nbill_length_mm_sd\nbill_depth_mm_sd\nbill_length_mm_mean_sd\nbill_depth_mm_mean_sd\n\n\n\n\nAdelie\n38.79139\n18.34636\n2.663405\n1.2166498\nNA\nNA\n\n\nChinstrap\n48.83382\n18.42059\n3.339256\n1.1353951\nNA\nNA\n\n\nGentoo\n47.50488\n14.98211\n3.081857\n0.9812198\nNA\nNA\n\n\n\n\n\n\n\npenguins_small |&gt; \n  group_by(species) |&gt; \n  summarise(across(where(is.numeric), \n                   list(mean = ~ mean(.x, na.rm = TRUE), \n                        sd = ~ sd(.x, na.rm = TRUE))))\n\n\n\n\n\n\n\n\n\n\n\n\nspecies\nbill_length_mm_mean\nbill_length_mm_sd\nbill_depth_mm_mean\nbill_depth_mm_sd\n\n\n\n\nAdelie\n38.79139\n2.663405\n18.34636\n1.2166498\n\n\nChinstrap\n48.83382\n3.339256\n18.42059\n1.1353951\n\n\nGentoo\n47.50488\n3.081857\n14.98211\n0.9812198\n\n\n\n\n\n\n\npenguins_small |&gt; \n  group_by(species) |&gt; \n  summarise(across(where(is.numeric), \\(x) mean(x, na.rm = TRUE), \n                   .names = \"{.col}_mean\"))\n\n\n\n\n\nspecies\nbill_length_mm_mean\nbill_depth_mm_mean\n\n\n\n\nAdelie\n38.79139\n18.34636\n\n\nChinstrap\n48.83382\n18.42059\n\n\nGentoo\n47.50488\n14.98211\n\n\n\n\n\n\n\n\ntidyselect::where\n列の選択を行うselect()関数にも、複数列への処理として、mutate_if()関数やsummarise_at()関数と同様にselect_if()関数等が利用できました。対象の列が一致する条件式を選択する、というもので、次のような記法を実行するのでした。\n\n# 因子型の列を選択\npenguins_small |&gt; \n  select_if(is.factor)\n\n\n\n\n\nspecies\nisland\nsex\n\n\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nNA\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nNA\n\n\nAdelie\nTorgersen\nNA\n\n\nAdelie\nTorgersen\nNA\n\n\nAdelie\nTorgersen\nNA\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nNA\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nNA\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nNA\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nNA\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nNA\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nNA\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\n\n\n\n\nところがselect_if()やselect_at()関数はやはりsuperseded扱いとなっています。代わりに、where()関数を使った条件式での列の指定が可能となっています。\n\npenguins_small |&gt; \n  select(where(is.factor))\n\n\n\n\n\nspecies\nisland\nsex\n\n\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nNA\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nNA\n\n\nAdelie\nTorgersen\nNA\n\n\nAdelie\nTorgersen\nNA\n\n\nAdelie\nTorgersen\nNA\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nNA\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nBiscoe\nfemale\n\n\nAdelie\nBiscoe\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nTorgersen\nfemale\n\n\nAdelie\nTorgersen\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nAdelie\nDream\nfemale\n\n\nAdelie\nDream\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nNA\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nNA\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nNA\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nNA\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nNA\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nGentoo\nBiscoe\nfemale\n\n\nGentoo\nBiscoe\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nmale\n\n\nChinstrap\nDream\nfemale\n\n\n\n\n\n\n\n\nrename_with\n\n# すべての列を対象に、列名に対してstr_to_upper()関数が適用される\npenguins_small |&gt; \n  rename_with(str_to_upper) |&gt; \n  colnames()\n\n[1] \"SPECIES\"        \"ISLAND\"         \"BILL_LENGTH_MM\" \"BILL_DEPTH_MM\" \n[5] \"SEX\"           \n\n# 列名に対してstr_to_upper()関数が適用されるが、適用範囲を因子型の列だけに制限する\npenguins_small |&gt; \n  rename_with(str_to_upper, where(is.factor)) |&gt; \n  colnames()\n\n[1] \"SPECIES\"        \"ISLAND\"         \"bill_length_mm\" \"bill_depth_mm\" \n[5] \"SEX\""
  },
  {
    "objectID": "sessions/01_dplyr.html#グループ",
    "href": "sessions/01_dplyr.html#グループ",
    "title": "dplyr",
    "section": "グループ",
    "text": "グループ\n先ほど、「種ごとに処理を適用する」例を示しましたが、ここで使われた種、すなわちグループの指定方法に変更があります。\n\npenguins_small |&gt; \n  group_by(species) |&gt; \n  summarise(n = n())\n\n\n\n\n\nspecies\nn\n\n\n\n\nAdelie\n152\n\n\nChinstrap\n68\n\n\nGentoo\n124\n\n\n\n\n\n\n従来は、処理を行う前にgroup_by()関数で明示的にグループ対象の変数を指定する必要がありました。しかし現在は処理を行うmutate()やsummarise()関数の中で.by引数によってグループ対象の変数を指定可能です。\n\npenguins_small |&gt; \n  summarise(n = n(), .by = species)\n\n\n\n\n\nspecies\nn\n\n\n\n\nAdelie\n152\n\n\nGentoo\n124\n\n\nChinstrap\n68\n\n\n\n\n\npenguins_small |&gt; \n  # speciesごとにbill_length_mmの最大値を計算した値が格納される\n  mutate(bill_length_max = max(bill_length_mm, na.rm = TRUE), \n         .by = species) |&gt; \n  # speciesごとにデータを1件ずつ取り出す\n  # bill_lenght_maxの値がspeciesごとに異なることがわかる\n  slice(1, .by = species)\n\n\n\n\n\n\n\n\n\n\n\n\n\nspecies\nisland\nbill_length_mm\nbill_depth_mm\nsex\nbill_length_max\n\n\n\n\nAdelie\nTorgersen\n39.1\n18.7\nmale\n46.0\n\n\nGentoo\nBiscoe\n46.1\n13.2\nfemale\n59.6\n\n\nChinstrap\nDream\n46.5\n17.9\nfemale\n58.0\n\n\n\n\n\npenguins_small |&gt; \n  reframe(n = n(), .by = species)\n\n\n\n\n\nspecies\nn\n\n\n\n\nAdelie\n152\n\n\nGentoo\n124\n\n\nChinstrap\n68\n\n\n\n\n\n\nまた、複数のグループを指定した後の処理でグループを維持し続けるかを.groups引数で選択することが可能です。\n\n# group_by()で与えた最初のグループは解除されるが、以降のグループは維持される\n# グループ化の処理に対して、どのような振る舞いをするかを.groups引数で指定しないと\n# 警告文が出力される\npenguins_small |&gt; \n  group_by(species, island, sex) |&gt; \n  summarise(mean_bl = mean(bill_length_mm, na.rm = TRUE))\n\n`summarise()` has grouped output by 'species', 'island'. You can override using\nthe `.groups` argument.\n\n\n\n\n\n\nspecies\nisland\nsex\nmean_bl\n\n\n\n\nAdelie\nBiscoe\nfemale\n37.35909\n\n\nAdelie\nBiscoe\nmale\n40.59091\n\n\nAdelie\nDream\nfemale\n36.91111\n\n\nAdelie\nDream\nmale\n40.07143\n\n\nAdelie\nDream\nNA\n37.50000\n\n\nAdelie\nTorgersen\nfemale\n37.55417\n\n\nAdelie\nTorgersen\nmale\n40.58696\n\n\nAdelie\nTorgersen\nNA\n37.92500\n\n\nChinstrap\nDream\nfemale\n46.57353\n\n\nChinstrap\nDream\nmale\n51.09412\n\n\nGentoo\nBiscoe\nfemale\n45.56379\n\n\nGentoo\nBiscoe\nmale\n49.47377\n\n\nGentoo\nBiscoe\nNA\n45.62500\n\n\n\n\n\n\n.groups引数に”drop”を与えた場合、すべてのグループが解除されます。一方、グループを継続するには”keep”を与えます。\n\npenguins_small |&gt; \n  group_by(species, island, sex) |&gt; \n  summarise(mean_bl = mean(bill_length_mm, na.rm = TRUE), \n            .groups = \"drop\")\n\n\n\n\n\nspecies\nisland\nsex\nmean_bl\n\n\n\n\nAdelie\nBiscoe\nfemale\n37.35909\n\n\nAdelie\nBiscoe\nmale\n40.59091\n\n\nAdelie\nDream\nfemale\n36.91111\n\n\nAdelie\nDream\nmale\n40.07143\n\n\nAdelie\nDream\nNA\n37.50000\n\n\nAdelie\nTorgersen\nfemale\n37.55417\n\n\nAdelie\nTorgersen\nmale\n40.58696\n\n\nAdelie\nTorgersen\nNA\n37.92500\n\n\nChinstrap\nDream\nfemale\n46.57353\n\n\nChinstrap\nDream\nmale\n51.09412\n\n\nGentoo\nBiscoe\nfemale\n45.56379\n\n\nGentoo\nBiscoe\nmale\n49.47377\n\n\nGentoo\nBiscoe\nNA\n45.62500\n\n\n\n\n\npenguins_small |&gt; \n  group_by(species, island, sex) |&gt; \n  summarise(mean_bl = mean(bill_length_mm, na.rm = TRUE), \n            .groups = \"keep\")\n\n\n\n\n\nspecies\nisland\nsex\nmean_bl\n\n\n\n\nAdelie\nBiscoe\nfemale\n37.35909\n\n\nAdelie\nBiscoe\nmale\n40.59091\n\n\nAdelie\nDream\nfemale\n36.91111\n\n\nAdelie\nDream\nmale\n40.07143\n\n\nAdelie\nDream\nNA\n37.50000\n\n\nAdelie\nTorgersen\nfemale\n37.55417\n\n\nAdelie\nTorgersen\nmale\n40.58696\n\n\nAdelie\nTorgersen\nNA\n37.92500\n\n\nChinstrap\nDream\nfemale\n46.57353\n\n\nChinstrap\nDream\nmale\n51.09412\n\n\nGentoo\nBiscoe\nfemale\n45.56379\n\n\nGentoo\nBiscoe\nmale\n49.47377\n\n\nGentoo\nBiscoe\nNA\n45.62500"
  },
  {
    "objectID": "sessions/01_dplyr.html#データ結合",
    "href": "sessions/01_dplyr.html#データ結合",
    "title": "dplyr",
    "section": "データ結合",
    "text": "データ結合\ndplyrパッケージには次の表に示す通り、柔軟なデータ結合関数が提供されています。\n\n\n\n\n\n\n\n関数名\n説明\n\n\n\n\ninner_join()\nキーとして指定した変数から、二つのデータフレームに共通して存在するレコードを結合して返す\n\n\nleft_join()\nキーとして指定した変数から、左（第一引数）のデータフレームに存在するレコードを結合して返す\n\n\nright_join()\nキーとして指定した変数から、右（第二引数）のデータフレームに存在するレコードを結合して返す\n\n\nfull_join()\nキーとして指定した変数から、二つのデータフレームのいずれかに存在するレコードを結合して返す\n\n\nsemi_join()\n(絞り込み)\n\n\nanti_join()\nキーとして指定した変数から、左（第一引数）のデータフレームに存在しないレコードを結合して返す\n\n\n\n実行は以下のように、対象のデータのほか、キーとなる変数をby引数で指定します。\ninner_join(データ1, データ2, by = \"キーとなる変数\")\nこのby引数の指定方法として、join_by()関数を利用することもできます。この関数により、より柔軟な結合条件の指定が実現します。\n\nsales &lt;- tibble(\n  id = c(1L, 1L, 1L, 2L, 2L),\n  sale_date = as.Date(c(\"2018-12-31\", \"2019-01-02\", \"2019-01-05\", \"2019-01-04\", \"2019-01-01\"))\n)\n\npromos &lt;- tibble(\n  id = c(1L, 1L, 2L),\n  promo_date = as.Date(c(\"2019-01-01\", \"2019-01-05\", \"2019-01-02\"))\n)\n\n# \nleft_join(sales, promos, by = \"id\")\n\nWarning in left_join(sales, promos, by = \"id\"): Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 1 of `x` matches multiple rows in `y`.\nℹ Row 1 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\n\n\n\n\n\nid\nsale_date\npromo_date\n\n\n\n\n1\n2018-12-31\n2019-01-01\n\n\n1\n2018-12-31\n2019-01-05\n\n\n1\n2019-01-02\n2019-01-01\n\n\n1\n2019-01-02\n2019-01-05\n\n\n1\n2019-01-05\n2019-01-01\n\n\n1\n2019-01-05\n2019-01-05\n\n\n2\n2019-01-04\n2019-01-02\n\n\n2\n2019-01-01\n2019-01-02\n\n\n\n\n\nleft_join(sales, promos, by = \"id\", relationship = \"many-to-many\")\n\n\n\n\n\nid\nsale_date\npromo_date\n\n\n\n\n1\n2018-12-31\n2019-01-01\n\n\n1\n2018-12-31\n2019-01-05\n\n\n1\n2019-01-02\n2019-01-01\n\n\n1\n2019-01-02\n2019-01-05\n\n\n1\n2019-01-05\n2019-01-01\n\n\n1\n2019-01-05\n2019-01-05\n\n\n2\n2019-01-04\n2019-01-02\n\n\n2\n2019-01-01\n2019-01-02"
  },
  {
    "objectID": "sessions/03_purrr.html",
    "href": "sessions/03_purrr.html",
    "title": "purrr",
    "section": "",
    "text": "map2(c(\"a\", \"b\", \"c\"),\n     c(\"D\", \"E\", \"F\"),\n     paste0)\n\n[[1]]\n[1] \"aD\"\n\n[[2]]\n[1] \"bE\"\n\n[[3]]\n[1] \"cF\"\n\n\n\ntibble::tibble(\n    x = c(\"a\", \"b\", \"c\"),\n    y = c(\"D\", \"E\", \"F\")) |&gt; \n    purrr::map2(\\(x, y) paste0(x, y))\n\nError in `purrr::map2()`:\n! `.y` must be a vector, not a function.\n\n\n\ntibble::tibble(\n  x = c(\"a\", \"b\", \"c\"),\n  y = c(\"D\", \"E\", \"F\")) |&gt; \n  purrr::pmap(\\(x, y) paste0(x, y))\n\n[[1]]\n[1] \"aD\"\n\n[[2]]\n[1] \"bE\"\n\n[[3]]\n[1] \"cF\"\n\n\n\ntibble::tibble(\n  x = c(\"a\", \"b\", \"c\"),\n  y = c(\"D\", \"E\", \"F\")) %&gt;%\n  dplyr::mutate(z = purrr::pmap(., \\(x, y) paste0(x, y))) |&gt; \n  tidyr::unnest(cols = z)\n\n\n\n\n\nx\ny\nz\n\n\n\n\na\nD\naD\n\n\nb\nE\nbE\n\n\nc\nF\ncF\n\n\n\n\n\ntibble::tibble(\n  x = c(\"a\", \"b\", \"c\"),\n  y = c(\"D\", \"E\", \"F\")) %&gt;%\n  dplyr::mutate(z = purrr::pmap_chr(., \\(x, y) paste0(x, y)))\n\n\n\n\n\nx\ny\nz\n\n\n\n\na\nD\naD\n\n\nb\nE\nbE\n\n\nc\nF\ncF\n\n\n\n\n\n\nプログレスバー\n\nerrors … 何番目の要素に問題があるか\n\n\nlist(1, 2, \"c\") |&gt; \n  purrr::map(\\(x) x + 1)\n\nError in `purrr::map()`:\nℹ In index: 3.\nCaused by error in `x + 1`:\n! non-numeric argument to binary operator\n\n\n\nseq.int(3) |&gt; \n  map(\\(x) factor(letters[x]))\n\n[[1]]\n[1] a\nLevels: a\n\n[[2]]\n[1] b\nLevels: b\n\n[[3]]\n[1] c\nLevels: c\n\n\n\nseq.int(3) |&gt; \n  map_vec(\\(x) factor(letters[x]))\n\n[1] a b c\nLevels: a b c\n\n\n\nx &lt;- list(a = 1, b = 2, c = 3, D = 4, E = 5)\n\nx |&gt; \n  keep_at(c(\"a\", \"b\", \"c\")) |&gt; \n  str()\n\nList of 3\n $ a: num 1\n $ b: num 2\n $ c: num 3\n\nx |&gt; \n  keep_at(function(x) x == tolower(x)) |&gt; \n  str()\n\nList of 3\n $ a: num 1\n $ b: num 2\n $ c: num 3\n\nx |&gt; \n  discard_at(c(\"a\", \"b\", \"c\")) |&gt; \n  str()\n\nList of 2\n $ D: num 4\n $ E: num 5"
  }
]